---
import type { ActivitiesAttrs, CityAttrs, CamelCaseKeys } from "gyg-wc/types";

type ActivitiesProps = CamelCaseKeys<ActivitiesAttrs>;
type CityProps = CamelCaseKeys<CityAttrs>;

export type Props = Omit<ActivitiesProps, "partnerId"> | Omit<CityProps, "partnerId">;

const props = { ...Astro.props, partnerId: "0" } satisfies ActivitiesProps | CityProps;

const attrs = (Object.keys(props) as Array<keyof typeof props>).reduce((attrs, prop) => {
  const key = prop.replace(/([A-Z])/g, "-$1").toLowerCase();
  attrs[key] = props[prop];
  return attrs;
}, {} as Record<string, unknown>) as astroHTML.JSX.IntrinsicElements["gyg-widget"];
---

<gyg-widget {...attrs}></gyg-widget>

<script>
  import "gyg-wc"; // import GetYourGuide Web Component
</script>
